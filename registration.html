<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Registration - ENIGMA XIII</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/logo/ENIGMA!_20251018_152032_0000.png">
    <link rel="shortcut icon" type="image/png" href="assets/logo/ENIGMA!_20251018_152032_0000.png">
    <link rel="apple-touch-icon" href="assets/logo/ENIGMA!_20251018_152032_0000.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/header.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/registration.css">
    <link rel="stylesheet" href="css/animations.css">
</head>
<body>
    <a href="#main-content" class="skip-to-main">Skip to Main Content</a>

    <header class="header" id="header">
        <div class="header-container">
            <div class="header-logo">
                <img src="assets/logo/ENIGMA!_20251018_152032_0000.png" alt="ENIGMA XIII Logo" class="enigma-logo-img">
            </div>
            <nav>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="events.html">Events</a></li>
                    <li><a href="gallery.html">Gallery</a></li>
                    <li><a href="sponsors.html">Sponsors</a></li>
                    <li><a href="registration.html" class="active">Register Now</a></li>
                </ul>
            </nav>
            <button class="menu-toggle" id="menuToggle" aria-label="Toggle menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>
        <div class="mobile-menu-overlay" id="mobileMenu">
            <button class="mobile-menu-close" id="closeMenu" aria-label="Close menu">&times;</button>
            <ul class="mobile-menu">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="events.html">Events</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="sponsors.html">Sponsors</a></li>
                <li><a href="registration.html">Register Now</a></li>
            </ul>
        </div>
    </header>

    <main id="main-content">
        <section class="registration-section section" style="padding-top: calc(var(--spacing-xl) + 80px);">
            <div class="container">
                <div class="registration-container">
                    <h1 class="fade-in">ENIGMA XIII Registration</h1>
                    <p class="registration-intro fade-in">
                        Welcome to ENIGMA XIII registration! Please fill out the form below to register for your desired events. 
                        Make sure to read all the rules and regulations before submitting your registration.
                    </p>
                    
                    <!-- ENIGMA Registration Form -->
                    <form class="registration-form fade-in" id="registrationForm" novalidate>
                        <!-- Personal Information Section -->
                        <div class="form-section">
                            <h2 class="form-section-title">Personal Information</h2>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="studentName">Student Name <span class="required">*</span></label>
                                    <input type="text" id="studentName" name="studentName" required placeholder="Student Name">
                                    <span class="error-message" id="studentNameError"></span>
                                </div>
                                
                                <div class="form-group">
                                    <label for="studIdNo">Stud Id No. <span class="required">*</span></label>
                                    <input type="text" id="studIdNo" name="studIdNo" required placeholder="Stud Id No.">
                                    <span class="error-message" id="studIdNoError"></span>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="groupName">Group Name (optional)</label>
                                    <input type="text" id="groupName" name="groupName" placeholder="Group Name">
                                </div>
                            </div>
                        </div>

                        <!-- College and Aadhaar Section -->
                        <div class="form-section">
                            <h2 class="form-section-title">College & Identity</h2>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="college">College <span class="required">*</span></label>
                                    <select id="college" name="college" required>
                                        <option value="">-- Select College --</option>
                                        <option value="UCER">United College of Engineering and Research (UCER)</option>
                                        <option value="UIM">United Institute of Management (UIM)</option>
                                        <option value="UPT">United Polytechnic (UPT)</option>
                                        <option value="Other">Other</option>
                                    </select>
                                    <span class="error-message" id="collegeError"></span>
                                </div>
                                
                                <div class="form-group">
                                    <label for="aadhaarNo">Aadhaar No <span class="required">*</span></label>
                                    <input type="text" id="aadhaarNo" name="aadhaarNo" required placeholder="Enter Aadhaar Number" pattern="[0-9]{12}" maxlength="12">
                                    <span class="error-message" id="aadhaarNoError"></span>
                                </div>
                            </div>
                            
                            <!-- Custom College Field (shown when "Other" is selected) -->
                            <div class="form-row" id="customCollegeRow" style="display: none; grid-template-columns: 1fr; visibility: hidden;">
                                <div class="form-group" style="width: 100%;">
                                    <label for="customCollege">Enter Your College Name <span class="required">*</span></label>
                                    <input type="text" id="customCollege" name="customCollege" placeholder="Enter your college name" style="width: 100%;">
                                    <span class="error-message" id="customCollegeError"></span>
                                    <small style="color: var(--color-text-secondary); font-size: 0.85rem; margin-top: 0.5rem; display: block;">
                                        Please enter the full name of your college
                                    </small>
                                </div>
                            </div>
                        </div>

                        <!-- Course, Branch, Year Section -->
                        <div class="form-section">
                            <h2 class="form-section-title">Academic Details</h2>
                            
                            <div class="form-row form-row-three">
                                <div class="form-group">
                                    <label for="course">Course <span class="required">*</span></label>
                                    <input type="text" id="course" name="course" required placeholder="Course">
                                    <span class="error-message" id="courseError"></span>
                                </div>
                                
                                <div class="form-group">
                                    <label for="branch">Branch <span class="required">*</span></label>
                                    <input type="text" id="branch" name="branch" required placeholder="Branch">
                                    <span class="error-message" id="branchError"></span>
                                </div>
                                
                                <div class="form-group">
                                    <label for="year">Year <span class="required">*</span></label>
                                    <select id="year" name="year" required>
                                        <option value="">Select Year</option>
                                        <option value="1st">1st Year</option>
                                        <option value="2nd">2nd Year</option>
                                        <option value="3rd">3rd Year</option>
                                        <option value="4th">4th Year</option>
                                        <option value="Post Graduate">Post Graduate</option>
                                    </select>
                                    <span class="error-message" id="yearError"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Contact and Email Section -->
                        <div class="form-section">
                            <h2 class="form-section-title">Contact Information</h2>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="contactNumber">Contact Number <span class="required">*</span></label>
                                    <input type="tel" id="contactNumber" name="contactNumber" required placeholder="Contact Number" pattern="[0-9]{10}" maxlength="10">
                                    <span class="error-message" id="contactNumberError"></span>
                                </div>
                                
                                <div class="form-group">
                                    <label for="emailId">Email Id <span class="required">*</span></label>
                                    <input type="email" id="emailId" name="emailId" required placeholder="Email">
                                    <span class="error-message" id="emailIdError"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Event Selection Section -->
                        <div class="form-section">
                            <h2 class="form-section-title">Event Selection</h2>
                            <p class="form-section-subtitle">Registration fee: ‚Çπ300 for two events (Both events are required)</p>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="event1">Event 1 <span class="required">*</span></label>
                                    <select id="event1" name="event1" required>
                                        <option value="">Select Event 1</option>
                                        <!-- Events will be populated by JavaScript -->
                                    </select>
                                    <span class="error-message" id="event1Error"></span>
                                </div>
                                
                                <div class="form-group">
                                    <label for="event2">Event 2 <span class="required">*</span></label>
                                    <select id="event2" name="event2" required>
                                        <option value="">Select Event 2</option>
                                        <!-- Events will be populated by JavaScript -->
                                    </select>
                                    <span class="error-message" id="event2Error"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Terms and Conditions -->
                        <div class="form-section">
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="terms" name="terms" required>
                                    <span>I agree to the <a href="#" target="_blank">Terms and Conditions</a> and <a href="#" target="_blank">Privacy Policy</a> <span class="required">*</span></span>
                                </label>
                                <span class="error-message" id="termsError"></span>
                            </div>
                            
                            <div class="form-group checkbox-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="rules" name="rules" required>
                                    <span>I have read and understood all the event rules and regulations <span class="required">*</span></span>
                                </label>
                                <span class="error-message" id="rulesError"></span>
                            </div>
                        </div>

                        <!-- Submit Button -->
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary btn-large" id="submitBtn">
                                <span class="btn-text">Submit Registration</span>
                                <span class="btn-loader" style="display: none;">
                                    <span class="spinner"></span> Submitting...
                                </span>
                            </button>
                    </div>
                    </form>
                    
                    <p class="registration-note fade-in">
                        <strong>Note:</strong> After submission, you will receive a confirmation email. If you experience any issues, please contact us at <a href="mailto:enigma@united.edu.in">enigma@united.edu.in</a> or call our coordinators.
                    </p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-grid">
                <!-- Column 1: Logo & Description -->
                <div class="footer-column">
                    <div class="footer-logo">
                        <img src="assets/logo/ENIGMA!_20251018_152032_0000.png" alt="ENIGMA XIII Logo" class="enigma-logo-img">
                        <span>ENIGMA XIII</span>
                    </div>
                    <p>The official cultural festival of United Group of Institutions.</p>
                    <div class="social-icons">
                        <a href="https://www.instagram.com/enigmafest_25/" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" fill="currentColor"/>
                            </svg>
                        </a>
                    </div>
                </div>

                <!-- Column 2: Navigation -->
                <div class="footer-column">
                    <h4>Navigation</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About</a></li>
                        <li><a href="events.html">Events</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="sponsors.html">Sponsors</a></li>
                        <li><a href="registration.html">Registration</a></li>
                    </ul>
                </div>

                <!-- Column 3: Event Categories -->
                <div class="footer-column">
                    <h4>Event Categories</h4>
                    <ul class="footer-links">
                        <li><a href="events.html?category=dance">Dance</a></li>
                        <li><a href="events.html?category=music">Music</a></li>
                        <li><a href="events.html?category=literary">Literary</a></li>
                        <li><a href="events.html?category=gaming">Gaming</a></li>
                        <li><a href="events.html?category=fashion">Fashion</a></li>
                        <li><a href="events.html?category=creative">Creative</a></li>
                        <li><a href="events.html?category=sports">Sports</a></li>
                        <li><a href="events.html?category=theatre">Theatre</a></li>
                        <li><a href="events.html?category=photo-film">Photo & Film</a></li>
                    </ul>
                </div>

                <!-- Column 4: Contact Us -->
                <div class="footer-column">
                    <h4>Contact Us</h4>
                    <div class="contact-info">
                        <p><strong>Contact Names & Numbers:</strong></p>
                        <p>XXX: +91-XXXXXXXXXX</p>
                        <p>XXX: +91-XXXXXXXXXX</p>
                        <p>XXX: +91-XXXXXXXXXX</p>
                        <p>XXX: +91-XXXXXXXXXX</p>
                        <p><strong>Address:</strong></p>
                        <p>8WV8+Q4H, Nevada Samogar,dairy,United Naini, Naini, Prayagraj, Uttar Pradesh 211010
</p>
                        <p><strong>Email:</strong></p>
                        <p>enigma@united.edu.in</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>Copyright by ENIGMA XIII. All rights reserved.</p>
                <p class="footer-credit">Made by <span class="credit-names">Pushpak Tiwari, Prashant Pandey, Prashant Maurya</span> with team</p>
            </div>
        </div>
    </footer>


    <!-- Razorpay Checkout Script -->
    <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
    
    <!-- Firebase SDK (CDN) - Add before registration.js -->
    <script type="module">
        // Import Firebase modules from CDN
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';
        import { getStorage } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js';
        
        // Firebase configuration - Inline to avoid CORS issues with file:// protocol
        const firebaseConfig = {
            apiKey: "AIzaSyBuCdyrgTr_WSPJ2V7eHj8JnFKAi3bc36Q",
            authDomain: "enigmaregistration.firebaseapp.com",
            projectId: "enigmaregistration",
            storageBucket: "enigmaregistration.firebasestorage.app",
            messagingSenderId: "507290851865",
            appId: "1:507290851865:web:0acb8089694d8c08346888",
            measurementId: "G-0557LMT1W8"
        };
        
        // Import Storage functions
        const storageModule = await import('https://www.gstatic.com/firebasejs/10.7.1/firebase-storage.js');
        const { ref, uploadBytes, getDownloadURL } = storageModule;
        
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const storage = getStorage(app);
        
        // Make available globally for registration.js
        window.firebaseStorage = storage;
        window.firebaseDb = db;
        window.firebaseApp = app;
        window.firebaseStorageFunctions = { ref, uploadBytes, getDownloadURL };
        
        console.log('‚úÖ Firebase initialized');
        console.log('‚úÖ Firebase Storage:', storage ? 'Available' : 'Not available');
        console.log('‚úÖ Firebase Firestore:', db ? 'Available' : 'Not available');
        console.log('‚úÖ Firebase Storage functions:', window.firebaseStorageFunctions ? 'Available' : 'Not available');
        console.log('üîç Storage functions types:', {
            ref: typeof ref,
            uploadBytes: typeof uploadBytes,
            getDownloadURL: typeof getDownloadURL
        });
        
        // Signal that Firebase is ready
        window.firebaseReady = true;
        window.dispatchEvent(new Event('firebaseReady'));
    </script>

    <script src="js/header.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/main.js"></script>
    <script src="js/version-check.js"></script>
    
    <!-- Registration Script - Load after Firebase is ready -->
    <script>
        // Wait for Firebase to be ready
        if (window.firebaseReady) {
            // Already ready
            const script = document.createElement('script');
            script.src = 'js/registration.js';
            document.body.appendChild(script);
        } else {
            // Wait for Firebase
            window.addEventListener('firebaseReady', function() {
                const script = document.createElement('script');
                script.src = 'js/registration.js';
                document.body.appendChild(script);
            });
        }
    </script>
</body>
</html>

